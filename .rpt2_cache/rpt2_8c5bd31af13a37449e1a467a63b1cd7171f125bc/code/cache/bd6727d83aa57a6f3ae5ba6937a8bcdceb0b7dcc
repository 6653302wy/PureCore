{
  "code": "import GameConfig from \"./GameConfig\";\r\nimport GamePlayStateManager, { GamePlayState } from \"./FSM/GamePlayStateManager\";\r\nimport GM from \"./pureMvc/core/GM\";\r\nimport LoaderManager from \"./manager/LoaderManager\";\r\nimport MultipleResCfgLoader from \"./manager/MultipleResCfgLoader\";\r\nimport Helper from \"./util/Helper\";\r\nclass Main {\r\n    constructor() {\r\n        if (window[\"Laya3D\"])\r\n            Laya3D.init(GameConfig.width, GameConfig.height);\r\n        else\r\n            Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n        Laya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n        Laya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n        Laya.stage.scaleMode = GameConfig.scaleMode;\r\n        Laya.stage.screenMode = GameConfig.screenMode;\r\n        Laya.stage.alignV = GameConfig.alignV;\r\n        Laya.stage.alignH = GameConfig.alignH;\r\n        Laya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n        if (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\")\r\n            Laya.enableDebugPanel();\r\n        if (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"])\r\n            Laya[\"PhysicsDebugDraw\"].enable();\r\n        if (GameConfig.stat)\r\n            Laya.Stat.show();\r\n        Laya.alertGlobalError = true;\r\n        Laya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n        GM.getInstance().setup(Laya.stage, puremvc.Facade.getInstance());\r\n        GM.getInstance().setupMgr.setupPlugins();\r\n    }\r\n    onVersionLoaded() {\r\n        Laya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n    }\r\n    onConfigLoaded() {\r\n        LoaderManager.ins.loadRes(MultipleResCfgLoader.RES_GROUP, Helper.Handler(this, this.LoadAllGameConfig));\r\n    }\r\n    LoadAllGameConfig() {\r\n        GamePlayStateManager.inst.EnterGoalGameState(GamePlayState.Loading);\r\n    }\r\n}\r\nnew Main();\r\n",
  "references": [
    "/Users/wanpp/workSpace/PureCore/PureCore/src/GameConfig.ts",
    "/Users/wanpp/workSpace/PureCore/PureCore/src/FSM/GamePlayStateManager.ts",
    "/Users/wanpp/workSpace/PureCore/PureCore/src/FSM/state/LoadingState.ts",
    "/Users/wanpp/workSpace/PureCore/PureCore/src/pureMvc/core/GM.ts",
    "/Users/wanpp/workSpace/PureCore/PureCore/src/manager/LoaderManager.ts",
    "/Users/wanpp/workSpace/PureCore/PureCore/src/manager/MultipleResCfgLoader.ts",
    "/Users/wanpp/workSpace/PureCore/PureCore/src/util/Helper.ts"
  ]
}
